# 解析器的后续改进路线
## 下面可选
1. 宏程序解析代码重构。
2. 流水线减少级数，最终分为文件解析和算法两级，前者决定去哪里，后者决定怎么去。
3. 算法独立成库。
4. 不要再支持刀补后的精确断点继续，刀补归入算法，属于怎么去的问题。
5. 全面使用智能指针。
6. 内存池优化，可选tcmalloc或mimalloc。
7. Fifo的模应设置为2的n次方，这样能提升速度。
8. 寻址不加同步，用户可以自己选择加或不加。
9. 用门面模式封装解析器，使解析器具有整体感，且线程安全。
10. 去除用lua脚本组装解析器的代码。

## 一些问题的澄清
1. 纤程，实际是一种有栈协程，目前并没有找到更好的替代方案。C++20的是无栈协程，所以不太合适。
2. lua真的很重。ncex格式不仅文件本身，背后还有大量的代码都是由lua写成的，这些代码不在刀路中，却被刀路引用。所以不太能去除。
3. 解析和执行加工，不太能保证实时性，即使是把fifo设置为最小。
